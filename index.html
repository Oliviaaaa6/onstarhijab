<!DOCTYPE html>
<html lang="id">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Onstar Hijab - Official Store</title>

    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700&family=Poppins:wght@300;400;600&display=swap"
      rel="stylesheet"
    />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css"
      rel="stylesheet"
    />

    <style>
      :root {
        --pink-star: #ff85a1;
        --blue-star: #4da3ff;
        --pink-light: #fff5f7;
        --blue-light: #f0f7ff;
        --soft-bg: #fdfbff;
      }

      body {
        font-family: "Poppins", sans-serif;
        background-color: var(--soft-bg);
        color: var(--dark-text);
        scroll-behavior: smooth;
      }

      /* --- NOTIFIKASI BERHASIL (MELAYANG) --- */
      #toast {
        position: fixed;
        top: 90px;
        right: 20px;
        background: var(--pink-star);
        color: white;
        padding: 15px 25px;
        border-radius: 50px;
        box-shadow: 0 5px 20px rgba(0, 0, 0, 0.15);
        z-index: 9999;
        font-weight: 600;
        display: none; /* Sembunyi awal */
        animation: slideIn 0.5s ease;
      }

      @keyframes slideIn {
        from {
          transform: translateX(100%);
          opacity: 0;
        }
        to {
          transform: translateX(0);
          opacity: 1;
        }
      }

      /* --- NAVBAR --- */
      .navbar {
        background: rgba(255, 255, 255, 0.95);
        backdrop-filter: blur(10px);
        box-shadow: 0 2px 15px rgba(0, 0, 0, 0.05);
        padding: 15px 0;
      }
      .navbar-brand {
        font-family: "Poppins", sans-serif;
        font-weight: 700;
        font-size: 1.5rem;
        color: var(--pink-star) !important;
        display: flex;
        align-items: center;
      }
      .navbar-brand span {
        color: var(--blue-star);
        margin-left: 5px;
      }
      .logo-nav {
        height: 35px;
        margin-right: 12px;
      }
      .nav-link {
        font-weight: 600;
        color: #333 !important;
        font-size: 0.95rem;
      }

      /* --- HERO HOME (SESUAI GAMBAR) --- */
      .hero-section {
        height: 85vh;
        background: linear-gradient(135deg, #ffeef2 0%, #eef7ff 100%);
        display: flex;
        align-items: center;
        justify-content: center;
        text-align: center;
        border-radius: 0 0 50px 50px;
        margin-bottom: 40px;
      }
      .hero-title {
        font-family: "Playfair Display", serif;
        font-size: 4.5rem;
        font-weight: 700;
        color: #2c3e50;
        margin-bottom: 10px;
      }
      .hero-subtitle {
        font-size: 1.2rem;
        color: #555;
        margin-bottom: 30px;
      }
      .btn-lihat {
        background: var(--pink-star);
        color: white;
        border: none;
        padding: 12px 35px;
        border-radius: 50px;
        font-weight: 600;
        transition: 0.3s;
      }
      .btn-lihat:hover {
        transform: scale(1.05);
        background: #ff7091;
        color: white;
      }

      /* --- CARDS & COLORS --- */
      .card-hijab {
        border: none;
        border-radius: 25px;
        background: white;
        padding: 25px;
        transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275); /* Ini rahasia gerakannya */
        box-shadow: 0 8px 25px rgba(0, 0, 0, 0.03);
        height: 100%;
        text-align: center;
        cursor: pointer;
      }
      .card-hijab:hover {
        transform: translateY(-15px) scale(1.02);
        box-shadow: 0 20px 40px rgba(255, 133, 161, 0.15); /* Kasih bayangan pink halus */
      }
      .product-img {
        width: 100%;
        height: 320px;
        object-fit: cover;
        border-radius: 15px;
        margin-bottom: 20px;
        transition: 0.5s;
      }
      .card-hijab:hover .product-img {
        transform: scale(1.05); /* Gambarnya ikut nge-zoom sedikit */
      }
      .color-container {
        display: flex;
        gap: 8px;
        justify-content: center;
        margin: 15px 0;
      }
      .color-dot {
        width: 25px;
        height: 25px;
        border-radius: 50%;
        cursor: pointer;
        border: 2px solid #fff;
        box-shadow: 0 0 0 1px #eee;
        transition: 0.2s;
      }
      .color-dot.active {
        box-shadow: 0 0 0 2px var(--pink-star);
        transform: scale(1.1);
      }

      /* --- FOOTER (FULL SESUAI GAMBAR) --- */
      .onstar-footer {
        background: #fbfdff;
        padding: 80px 0 40px;
        margin-top: 80px;
        border-top: 1px solid #f0f0f0;
      }
      .footer-brand-box {
        display: flex;
        align-items: center;
        margin-bottom: 20px;
      }
      .logo-footer {
        height: 50px;
        margin-right: 15px;
        border-radius: 10px;
      }
      .footer-desc {
        font-size: 0.9rem;
        color: #777;
        line-height: 1.8;
      }
      .footer-heading {
        font-weight: 700;
        margin-bottom: 25px;
        color: #333;
        font-size: 1rem;
      }
      .footer-link {
        color: #666;
        text-decoration: none;
        display: block;
        margin-bottom: 12px;
        font-size: 0.9rem;
      }
      .footer-bottom {
        border-top: 1px solid #eee;
        margin-top: 50px;
        padding-top: 30px;
        font-size: 0.85rem;
        color: #999;
      }

      /* --- TOMBOL KEMBALI ELEGAN --- */
      .btn-back-elegant {
        background: transparent;
        border: 1px solid #ddd;
        color: #888;
        padding: 8px 25px;
        border-radius: 50px;
        font-size: 0.9rem;
        transition: 0.3s;
      }
      .btn-back-elegant:hover {
        border-color: var(--pink-star);
        color: var(--pink-star);
      }

      /* --- UTILS --- */
      .page-section {
        display: none;
      }
      .active-section {
        display: block;
      }
      .custom-modal {
        display: none;
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(255, 255, 255, 0.9);
        z-index: 10000;
        align-items: center;
        justify-content: center;
        text-align: center;
      }
    </style>
  </head>
  <body>
    <body> <div id="toast">
    <i class="bi bi-check-circle-fill me-2"></i> Berhasil ditambah ke keranjang! âœ¨
  </div>

    <nav class="navbar navbar-expand-lg sticky-top">
      <div class="container">
        <a class="navbar-brand" href="#" onclick="showPage('home')">
          <img
            src="logoonstarhijab.png"
            class="logo-nav"
            onerror="this.src='https://via.placeholder.com/40'"
          />
          Onstar<span>Hijab</span>
        </a>
        <div class="ms-auto d-flex align-items-center">
          <a
            href="#"
            class="nav-link me-4 d-none d-md-block"
            onclick="showPage('home')"
            >Home</a
          >
          <a
            href="#"
            class="nav-link me-4 d-none d-md-block"
            onclick="showPage('about')"
            >About</a
          >
          <a
            href="#"
            class="nav-link me-4 d-none d-md-block"
            onclick="showPage('koleksi')"
            >Koleksi</a
          >
          <button
            class="btn border-0 position-relative"
            onclick="showPage('keranjang')"
          >
            <i class="bi bi-cart2 fs-4"></i>
            <span
              id="cart-count"
              class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger"
              style="font-size: 0.6rem"
              >0</span
            >
          </button>
        </div>
      </div>
    </nav>

    <section id="home" class="page-section active-section">
      <div class="hero-section">
        <div class="container">
          <h1 class="hero-title">Onstar Your Hijab</h1>
          <p class="hero-subtitle">
            Premium Hijab Collection - Simple & Elegant.
          </p>
          <button class="btn-lihat" onclick="showPage('koleksi')">
            Lihat Koleksi âœ¨
          </button>
        </div>
      </div>

      <div class="container py-5">
        <div class="row text-center g-4">
          <div class="col-md-4">
            <div class="p-4 bg-white rounded-4 shadow-sm">
              <i class="bi bi-gem fs-1 text-pink-star"></i>
              <h5 class="mt-3 fw-bold">Kualitas Premium</h5>
              <p class="text-muted small">
                Bahan pilihan yang adem dan nyaman digunakan seharian.
              </p>
            </div>
          </div>
          <div class="col-md-4">
            <div class="p-4 bg-white rounded-4 shadow-sm">
              <i class="bi bi-stars fs-1 text-pink-star"></i>
              <h5 class="mt-3 fw-bold">Desain Elegan</h5>
              <p class="text-muted small">
                Model simpel namun tetap mewah untuk berbagai acara.
              </p>
            </div>
          </div>
          <div class="col-md-4">
            <div class="p-4 bg-white rounded-4 shadow-sm">
              <i class="bi bi-truck fs-1 text-pink-star"></i>
              <h5 class="mt-3 fw-bold">Pengiriman Cepat</h5>
              <p class="text-muted small">
                Pesanan diproses langsung dari Yogyakarta ke rumahmu.
              </p>
            </div>
          </div>
        </div>
      </div>

      <footer class="onstar-footer">
        <div class="container">
          <div class="row g-4">
            <div class="col-lg-4">
              <div class="footer-brand-box">
                <img
                  src="logoonstarhijab.png"
                  class="logo-footer"
                  onerror="this.src='https://via.placeholder.com/50'"
                />
                <div>
                  <h5 class="fw-bold mb-0">Onstar Hijab</h5>
                  <small class="text-muted">Official Store</small>
                </div>
              </div>
              <p class="footer-desc">
                Hijab premium yang didesain untuk kenyamanan harianmu. Simpel,
                elegan, dan membuatmu tetap bercahaya. âœ¨
              </p>
            </div>
            <div class="col-lg-4 px-lg-5">
              <h6 class="footer-heading">Alamat & Contact</h6>
              <div class="footer-link">
                <i class="bi bi-geo-alt me-2"></i> Jl. Kaliurang Km 14,5,
                Yogyakarta
              </div>
              <div class="footer-link">
                <i class="bi bi-whatsapp me-2"></i> +62 857 4386 7657
              </div>
              <div class="footer-link">
                <i class="bi bi-envelope me-2"></i> cs@onstarhijab.id
              </div>
            </div>
            <div class="col-lg-4">
              <h6 class="footer-heading">Sosial Media</h6>
              <a href="#" class="footer-link"
                ><i class="bi bi-instagram me-2"></i> @onstarhijab</a
              >
              <a href="#" class="footer-link"
                ><i class="bi bi-tiktok me-2"></i> @onstarhijab</a
              >
              <a href="#" class="footer-link"
                ><i class="bi bi-whatsapp me-2"></i> +62 857 4367 6757</a
              >
            </div>
          </div>
          <div
            class="footer-bottom d-flex justify-content-between align-items-center"
          >
            <p class="mb-0">Â© Onstar Hijab. All rights reserved.</p>
            <div>
              <a href="#" class="text-muted text-decoration-none me-3"
                >Privacy Policy</a
              >
              <a href="#" class="text-muted text-decoration-none"
                >Terms of Service</a
              >
            </div>
          </div>
        </div>
      </footer>
    </section>

    <section id="about" class="page-section py-5">
      <div class="container py-5">
        <div class="about-content text-center mx-auto" style="max-width: 900px">
          <h2
            class="display-5 fw-bold mb-4"
            style="font-family: 'Playfair Display'"
          >
            Tentang Onstar Hijab
          </h2>
          <div
            style="
              width: 50px;
              height: 3px;
              background: var(--pink-star);
              margin: 0 auto 30px;
            "
          ></div>

          <p class="lead text-muted mb-5">
            "Onstar Hijab lahir dari keinginan untuk menghadirkan hijab yang
            tidak hanya menutup aurat, tapi juga memancarkan cahaya kepercayaan
            diri setiap wanita muslimah."
          </p>

          <div class="row text-start g-4">
            <div class="col-md-6">
              <h5 class="fw-bold">
                <i class="bi bi-heart-fill text-danger me-2"></i> Visi Kami
              </h5>
              <p class="text-muted">
                Menjadi sahabat terbaik setiap muslimah dalam berpakaian syar'i
                dengan sentuhan modern dan elegan.
              </p>
            </div>
            <div class="col-md-6">
              <h5 class="fw-bold">
                <i class="bi bi-award-fill text-warning me-2"></i> Janji Kami
              </h5>
              <p class="text-muted">
                Memberikan pelayanan terbaik dan memastikan setiap produk sampai
                dengan kualitas terjaga.
              </p>
            </div>
          </div>

          <button
            class="btn btn-outline-danger rounded-pill mt-5 px-4"
            onclick="showPage('koleksi')"
          >
            Mulai Belanja âœ¨
          </button>
        </div>
      </div>
    </section>

    <section id="koleksi" class="page-section py-5">
      <div class="container text-center">
        <h2 class="hero-title" style="font-size: 3rem; margin-bottom: 50px">
          Our Collection
        </h2>
        <div class="row g-4" id="product-list"></div>

        <div class="mt-5 pt-4">
          <button class="btn-back-elegant" onclick="showPage('home')">
            <i class="bi bi-arrow-left me-2"></i> Kembali ke Beranda
          </button>
        </div>
      </div>
    </section>

    <section id="keranjang" class="page-section py-5">
      <div class="container">
        <div class="bg-white p-4 p-md-5 rounded-4 shadow-sm">
          <h2 class="fw-bold mb-5">
            <i class="bi bi-bag-check me-2"></i>Pesanan Anda
          </h2>
          <div class="mb-4 d-flex gap-2">
          <button class="btn btn-light rounded-pill px-4 shadow-sm" onclick="showPage('home')">
          <i class="bi bi-house-door me-2"></i>Home
          </button>
          <button class="btn btn-outline-danger rounded-pill px-4 shadow-sm" onclick="showPage('koleksi')">
          <i class="bi bi-bag-plus me-2"></i>Tambah Hijab Lagi
        </button>
        </div>
          <div class="row g-5">
            <div class="col-lg-7" id="list-keranjang"></div>
            <div class="col-lg-5">
              <div class="p-4 rounded-4 bg-light">
                <h4 class="fw-bold mb-4 text-center">Total Tagihan</h4>
                <h1
                  id="total-harga"
                  class="text-center fw-bold mb-4"
                  style="color: var(--pink-star)"
                >
                  Rp 0
                </h1>
                <input
                  type="text"
                  id="nama"
                  class="form-control mb-3 rounded-pill px-4 border-0 shadow-sm"
                  placeholder="Nama Lengkap"
                />
                <input
                  type="tel"
                  id="telp"
                  class="form-control mb-3 rounded-pill px-4 border-0 shadow-sm"
                  placeholder="Nomor WhatsApp"
                />
                <textarea
                  id="alamat"
                  class="form-control mb-3 rounded-4 px-4 border-0 shadow-sm"
                  rows="3"
                  placeholder="Alamat Lengkap"
                ></textarea>
                <select
                  id="metode"
                  class="form-select mb-4 rounded-pill px-4 border-0 shadow-sm"
                >
                  <option value="qris">Bayar Pakai QRIS</option>
                  <option value="tf">Transfer Bank</option>
                </select>
                <button
                  class="btn btn-dark w-100 py-3 rounded-pill fw-bold shadow"
                  onclick="prosesPesanan()"
                >
                  Konfirmasi Pembayaran
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <div id="modalTransfer" class="custom-modal">
      <div class="container">
        <div
          class="bg-white p-5 rounded-5 shadow-lg mx-auto"
          style="max-width: 450px"
        >
          <h2 class="fw-bold text-pink mb-2" style="color: var(--pink-star)">
            Berhasil!
          </h2>
          <p class="text-muted">Scan QRIS:</p>
          <div id="instruksi" class="mb-4"></div>
          <button
            class="btn btn-dark w-100 py-3 rounded-pill fw-bold mb-3"
            onclick="konfirmasiWA()"
          >
            <i class="bi bi-whatsapp me-2"></i>Konfirmasi ke WhatsApp
          </button>
          <button
            class="btn btn-link text-muted text-decoration-none"
            onclick="tutupModal()"
          >
            Tutup
          </button>
        </div>
      </div>
    </div>

    <script>
      /* ================= GOOGLE SHEETS URL ================= */
      // GANTI DENGAN LINK DEPLOY GOOGLE APPS SCRIPT KAMU
      const scriptURL =
        "https://script.google.com/macros/s/AKfycby8kIBhqDVW913dYOP3jnoUtONkHelEEhkWX24MO3_FyjwnJgxSIYXHqYyWrnESJPsO/exec";

      const products = [
        {
          id: 1,
          name: "Pashmina Viscose",
          price: 45000,
          image: "PashminaViscose.jpg",
          description:
            "Bahan premium viscose yang adem, bertekstur serat alami, dan sangat mudah dibentuk. Tidak licin dan tetap tegak di dahi sepanjang hari.",
          sizes: ["175x70 cm", "180x70 cm", "180x75 cm"],
          colors: [
            { name: "Soft Pink", hex: "#ffc0cb", stok: 20 },
            { name: "Mocca", hex: "#a38068", stok: 30 },
            { name: "Sage Green", hex: "#9ca986", stok: 25 },
            { name: "Dusty Rose", hex: "#dcae96", stok: 45 },
            { name: "Clay", hex: "#b68d71", stok: 15 },
          ],
        },
        {
          id: 2,
          name: "Voal Sky",
          price: 35000,
          image: "VoalSky.jpg",
          description:
            "Hijab Voal premium dengan tekstur lembut yang sangat ringan. Tegak sempurna di dahi dan tetap adem untuk digunakan beraktivitas seharian.",
          sizes: ["175x75 cm", "180x75 cm", "180x70 cm"],
          colors: [
            { name: "Sky Blue", hex: "#d6c3b0", stok: 30 },
            { name: "Grey", hex: "#808080", stok: 15 },
            { name: "Sandstone", hex: "#87ceeb", stok: 20 },
            { name: "Baby Blue", hex: "#89cff0", stok: 40 },
            { name: "Broken White", hex: "#f5f5f5", stok: 25 },
          ],
        },
        {
          id: 3,
          name: "Instant Khimar",
          price: 40000,
          image: "InstantKhimar.jpg",
          description:
            "Solusi tampil rapi dalam sekejap! Khimar instan dengan desain 'sekali slup' yang praktis tanpa butuh jarum pentul. Potongannya syar'i, menutup dada dengan sempurna, dan tetap terasa ringan dipakai.",
          sizes: ["S", "M", "L", "XL"],
          colors: [
            { name: "Mauve", hex: "#af8a9d", stok: 20 },
            { name: "Black", hex: "#000", stok: 30 },
            { name: "Beige", hex: "#f5f5dc", stok: 35 },
            { name: "Hazelnut", hex: "#bb937d", stok: 15 },
            { name: "Taupe", hex: "#bda58d", stok: 25 },
          ],
        },
        {
          id: 4,
          name: "Plisket Pastel",
          price: 45000,
          image: "PashminaPlisket.jpg",
          description:
            "Anti ribet dan tanpa setrika! Bahan ceruty plisket premium yang jatuh dan flowy. Tekstur plisketnya memberikan volume ekstra namun tetap terasa ringan saat dipakai.",
          sizes: ["175x70 cm", "180x75 cm", "170x70 cm"],
          colors: [
            { name: "Sage", hex: "#9ca986", stok: 20 },
            { name: "Dusty", hex: "#dcae96", stok: 25 },
            { name: "Lilac", hex: "#C8A2C8", stok: 15 },
            { name: "Peach Puff", hex: "#FFDAB9", stok: 30 },
            { name: "Mauve", hex: "#AF8A9D", stok: 35 },
          ],
        },
        {
          id: 5,
          name: "Bella Square",
          price: 35000,
          image: "BellaSquare.jpg",
          description:
            "Bella Square premium dengan tekstur kain yang jatuh dan adem. Tidak menerawang dan sangat mudah diatur (anti-letoy). Pilihan tepat untuk kuliah, kerja, maupun hangout santai.",
          sizes: ["110x110 cm", "115x115 cm", "120x120 cm"],
          colors: [
            { name: "Cream", hex: "#fffdd0", stok: 20 },
            { name: "Navy", hex: "#000080", stok: 15 },
            { name: "Sand", hex: "#C2B280", stok: 30 },
            { name: "Denim", hex: "#798EA4", stok: 40 },
            { name: "Silver Grey", hex: "#C0C0C0", stok: 45 },
          ],
        },
        {
          id: 6,
          name: "Ceruty Premium",
          price: 50000,
          image: "PashminaCeruty.jpg",
          description:
            "Pashmina Ceruty Babydoll kualitas butik dengan tekstur berpasir halus yang mewah. Bahannya sangat jatuh (flowy), mudah dibentuk, dan memberikan kesan elegan yang instan. Sangat cocok untuk acara formal maupun daily.",
          sizes: ["170x75 cm", "175x75 cm", "180x75 cm"],
          colors: [
            { name: "Lavender", hex: "#e6e6fa", stok: 30 },
            { name: "Soft Pink", hex: "#ffc0cb", stok: 35 },
            { name: "Cream", hex: "#fffdd0", stok: 45 },
            { name: "Broken White", hex: "#f5f5f5", stok: 15 },
            { name: "Clay", hex: "#b68d71", stok: 20 },
          ],
        },
      ];

      let cart = [];
      let selections = {};

      function renderProducts() {
        const list = document.getElementById("product-list");
        list.innerHTML = products
          .map((p) => {
            if (!selections[p.id])
              selections[p.id] = { color: p.colors[0].name, size: p.sizes[0] };
            const activeColor = p.colors.find(
              (c) => c.name === selections[p.id].color
            );

            return `
          <div class="col-md-4">
            <div class="card-hijab">
              <img src="${
                p.image
              }" class="product-img" onerror="this.src='https://via.placeholder.com/300'">
              <h5 class="fw-bold mb-1">${p.name}</h5>
              <p class="text-muted small">${p.description}</p>

              <div class="mb-3">
                <select class="form-select form-select-sm mx-auto" style="width: 140px; border-radius: 10px;"
                        onchange="selections[${p.id}].size = this.value">
                  ${p.sizes
                    .map((s) => `<option value="${s}">${s}</option>`)
                    .join("")}
                </select>
              </div>

              <div class="color-container">
                ${p.colors
                  .map(
                    (c) =>
                      `<div class="color-dot ${
                        selections[p.id].color === c.name ? "active" : ""
                      }" style="background:${c.hex}" onclick="selColor(${
                        p.id
                      }, '${c.name}')"></div>`
                  )
                  .join("")}
              </div>
              <div class="small fw-bold text-pink mb-3" style="color:var(--pink-star)">Stok: ${
                activeColor.stok
              }</div>

              <h4 class="fw-bold mb-4">Rp ${p.price.toLocaleString()}</h4>
              <button class="btn btn-outline-danger w-100 rounded-pill py-2" onclick="addToCart(${
                p.id
              })">Tambah Keranjang</button>
            </div>
          </div>`;
          })
          .join("");
      }

      function selColor(id, name) {
        selections[id].color = name;
        renderProducts();
      }

      function addToCart(id) {
        const p = products.find((x) => x.id === id);
        const sel = selections[id];
        const colorData = p.colors.find((c) => c.name === sel.color);
        if (colorData.stok > 0) {
          colorData.stok--;
          cart.push({ ...p, selColor: sel.color, selSize: sel.size });
          updateCart();
          renderProducts();

          // --- INI TAMBAHANNYA BESTIE ---
          const toast = document.getElementById("toast");
          toast.style.display = "block"; // Tampilkan

          // Sembunyikan lagi setelah 3 detik
          setTimeout(() => {
            toast.style.display = "none";
          }, 3000);
          // ------------------------------
        } else {
          alert("Maaf, stok habis!");
        }
      }

      function updateCart() {
        document.getElementById("cart-count").innerText = cart.length;
        const total = cart.reduce((s, i) => s + i.price, 0);
        document.getElementById("total-harga").innerText =
          "Rp " + total.toLocaleString();
        document.getElementById("list-keranjang").innerHTML =
          cart.length === 0
            ? '<p class="text-center py-5">Keranjang kosong</p>'
            : cart
                .map(
                  (i, idx) => `
          <div class="d-flex justify-content-between align-items-center p-3 bg-white border-bottom">
            <div class="text-start">
                <h6 class="fw-bold mb-0">${i.name}</h6>
                <small class="text-muted">${i.selColor} | ${i.selSize}</small>
            </div>
            <div class="d-flex align-items-center">
                <span class="fw-bold me-3">Rp ${i.price.toLocaleString()}</span>
                <button class="btn text-danger p-0" onclick="removeCart(${idx})"><i class="bi bi-x-circle-fill"></i></button>
            </div>
          </div>`
                )
                .join("");
      }

      function removeCart(idx) {
        const item = cart[idx];
        products
          .find((x) => x.id === item.id)
          .colors.find((c) => c.name === item.selColor).stok++;
        cart.splice(idx, 1);
        updateCart();
        renderProducts();
      }

      function showPage(id) {
        document
          .querySelectorAll(".page-section")
          .forEach((s) => s.classList.remove("active-section"));
        document.getElementById(id).classList.add("active-section");
        window.scrollTo(0, 0);
      }

      function tutupModal() {
        document.getElementById("modalTransfer").style.display = "none";
      }

      // --- TARUH DI SINI YA BESTIE ---
      function prosesPesanan() {
        const nama = document.getElementById("nama").value;
        const telp = document.getElementById("telp").value;
        const alamat = document.getElementById("alamat").value;
        const metode = document.getElementById("metode").value;

        // Validasi simpel supaya gak ada data kosong masuk ke Sheets
        if (!nama || !telp || !alamat) {
          alert("Duh Bestie, isi dulu semua datanya ya! ðŸ’–");
          return;
        }

        const formData = new FormData();
        formData.append("nama", nama);
        formData.append("telp", telp);
        formData.append("alamat", alamat);
        formData.append("metode", metode);
        // Mengambil daftar barang di keranjang
        formData.append("pesanan", cart.map(i => `${i.name} (${i.selColor})`).join(", "));
        formData.append("total", cart.reduce((s, i) => s + i.price, 0));

        // Kirim data ke Google Sheets
        fetch(scriptURL, { method: "POST", body: formData })
          .then((response) => {
            // Kalau berhasil, baru munculin modal pembayaran
            document.getElementById("modalTransfer").style.display = "flex";
            const instruksi = document.getElementById("instruksi");
            
            if (metode === 'qris') {
              instruksi.innerHTML = '<p>Silakan Scan QRIS Onstar:</p><img src="qris.jpg" style="width:200px" onerror="this.src=\'https://via.placeholder.com/200?text=QRIS+ONSTAR\'">';
            } else {
              instruksi.innerHTML = '<p>Silakan Transfer ke Rekening:</p><div class="p-3 bg-light rounded"><b>BNI: 12345678</b><br>a/n Onstar Hijab</div>';
            }
          })
          .catch((error) => alert("Error pengiriman: " + error.message));
      }
      // --- BATAS AKHIR ---

      function konfirmasiWA() {
        const nama = document.getElementById("nama").value;
        const alamat = document.getElementById("alamat").value;
        const total = cart
          .reduce((s, i) => s + i.price, 0)
          .toLocaleString("id-ID");

        // Format daftar pesanan dengan detail ukuran dan warna
        const listPesanan = cart
          .map((i) => `  â€¢ ${i.name} (${i.selSize}, ${i.selColor})`)
          .join("\n");

        const teks = `Halo Onstar Hijab! âœ¨

        *PESANAN BARU:*
        ${listPesanan}

        *TOTAL:* Rp ${total}

        *NAMA:* ${nama}
        *ALAMAT:* ${alamat}`;

        window.open(
          `https://wa.me/6285743867657?text=${encodeURIComponent(teks)}`
        );
      }

      window.onload = renderProducts;
    </script>
  </body>
</html>
