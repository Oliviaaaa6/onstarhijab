<!DOCTYPE html>
<html lang="id">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Onstar Hijab - Official Store</title>

    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700&family=Poppins:wght@300;400;600&display=swap"
      rel="stylesheet"
    />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css"
      rel="stylesheet"
    />

    <style>
      :root {
        --pink-star: #ff85a1;
        --blue-star: #4da3ff;
        --pink-light: #fff5f7;
        --blue-light: #f0f7ff;
        --soft-bg: #fdfbff;
        --dark-text: #1f2937;
      }

      body {
        font-family: "Poppins", sans-serif;
        background-color: var(--soft-bg);
        margin: 0;
        overflow-x: hidden;
        color: var(--dark-text);
      }

      /* --- NAVBAR --- */
      .navbar {
        background-color: white;
        box-shadow: 0 2px 20px rgba(0, 0, 0, 0.05);
        padding: 12px 0;
      }
      .logo-img {
        height: 55px;
        width: auto;
        margin-right: 12px;
        border-radius: 8px;
      }
      .navbar-brand {
        font-family: "Playfair Display", serif;
        font-weight: 700;
        font-size: 1.8rem;
        color: var(--pink-star) !important;
        display: flex;
        align-items: center;
      }
      .navbar-brand span {
        color: var(--blue-star);
      }

      /* --- HERO --- */
      .hero-full {
        height: 80vh;
        background: linear-gradient(135deg, #ffdae0, #d0ebff);
        display: flex;
        align-items: center;
        justify-content: center;
        text-align: center;
        border-radius: 0 0 80px 80px;
        margin-bottom: 50px;
      }
      .btn-hero-anim {
        background: var(--pink-star) !important;
        border: none !important;
        padding: 18px 45px !important;
        color: white;
        border-radius: 50px;
        font-weight: 600;
        animation: pulse-pink 2s infinite;
      }
      @keyframes pulse-pink {
        0% {
          transform: scale(1);
        }
        70% {
          transform: scale(1.05);
        }
        100% {
          transform: scale(1);
        }
      }

      /* --- FITUR OUR COLLECTION (ORIGINAL STYLE) --- */
      .card-hijab {
        border: none;
        border-radius: 25px;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.05);
        background: white;
        padding: 20px;
        transition: 0.4s;
        height: 100%;
        position: relative;
      }
      .card-hijab:hover {
        transform: translateY(-10px);
      }

      .product-img-container {
        width: 100%;
        height: 280px;
        overflow: hidden;
        border-radius: 20px;
        margin-bottom: 15px;
      }
      .product-img-container img {
        width: 100%;
        height: 100%;
        object-fit: cover;
        transition: 0.5s;
      }
      .card-hijab:hover .product-img-container img {
        transform: scale(1.1);
      }

      .stok-badge {
        position: absolute;
        top: 30px;
        right: 30px;
        background: rgba(255, 255, 255, 0.9);
        padding: 5px 15px;
        border-radius: 50px;
        font-size: 0.8rem;
        font-weight: 600;
        color: var(--pink-star);
      }

      /* --- CART & MODAL --- */
      .cart-container {
        background: white;
        padding: 40px;
        border-radius: 40px;
        box-shadow: 0 20px 60px rgba(0, 0, 0, 0.05);
      }
      .btn-checkout {
        background: linear-gradient(90deg, var(--pink-star), var(--blue-star));
        color: white;
        border: none;
        width: 100%;
        padding: 18px;
        border-radius: 18px;
        font-weight: 700;
      }

      .custom-modal {
        display: none;
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0, 0, 0, 0.6);
        z-index: 10000;
        align-items: center;
        justify-content: center;
        backdrop-filter: blur(5px);
      }
      .modal-body-custom {
        background: white;
        padding: 40px;
        border-radius: 35px;
        max-width: 450px;
        width: 90%;
        text-align: center;
        border-top: 10px solid var(--pink-star);
      }

      footer#contact {
        background: linear-gradient(
          135deg,
          var(--pink-light),
          var(--blue-light)
        ) !important;
        padding: 70px 0 30px 0 !important;
        margin-top: 50px;
      }

      .page-section {
        display: none;
        animation: fadeIn 0.6s;
      }
      .active-section {
        display: block;
      }
      @keyframes fadeIn {
        from {
          opacity: 0;
        }
        to {
          opacity: 1;
        }
      }
    </style>
  </head>
  <body>
    <div id="modalAlert" class="custom-modal">
      <div class="modal-body-custom">
        <div style="font-size: 50px">‚ú®</div>
        <h3 id="alertTitle">Info</h3>
        <p id="alertMessage" class="text-muted"></p>
        <button
          class="btn btn-danger w-100 rounded-pill py-3 fw-bold"
          onclick="tutupAlert()"
          style="background: var(--pink-star); border: none"
        >
          Oke!
        </button>
      </div>
    </div>

    <div id="modalTransfer" class="custom-modal">
      <div class="modal-body-custom" style="border-top-color: var(--blue-star)">
        <h2 style="color: var(--pink-star)">Berhasil!</h2>
        <div id="instruksiBayar" class="my-3"></div>
        <p class="mb-1 text-muted">Total Tagihan:</p>
        <h1 id="totalPesan" style="color: var(--blue-star); font-weight: 800">
          Rp 0
        </h1>
        <button
          class="btn btn-dark w-100 rounded-pill py-3 fw-bold mt-3"
          onclick="konfirmasiWA()"
        >
          üì≤ Konfirmasi ke WhatsApp
        </button>
        <button
          class="btn btn-link text-muted mt-2 text-decoration-none"
          onclick="tutupModal()"
        >
          Tutup
        </button>
      </div>
    </div>

    <nav class="navbar navbar-expand-lg sticky-top">
      <div class="container">
        <a class="navbar-brand" href="#" onclick="showPage('home')">
          <img
            src="logoonstarhijab.png"
            alt="Logo"
            class="logo-img"
            onerror="this.src='https://via.placeholder.com/50'"
          />
          Onstar <span>Hijab</span>
        </a>
        <div class="ms-auto d-flex">
          <a
            class="nav-link mx-2 fw-semibold"
            onclick="showPage('home')"
            style="cursor: pointer"
            >Home</a
          >
          <a
            class="nav-link mx-2 fw-semibold"
            onclick="showPage('koleksi')"
            style="cursor: pointer"
            >Koleksi</a
          >
          <a
            class="nav-link mx-2 fw-semibold"
            onclick="showPage('keranjang')"
            style="cursor: pointer"
            >üõí (<span id="cart-count">0</span>)</a
          >
        </div>
      </div>
    </nav>

    <section id="home" class="page-section active-section">
      <div class="hero-full">
        <div class="container">
          <h1 style="font-family: 'Playfair Display'; font-size: 4rem">
            Onstar <span>Your Hijab</span>
          </h1>
          <p class="lead">Premium Hijab Collection - Simple & Elegant.</p>
          <button class="btn-hero-anim" onclick="showPage('koleksi')">
            Lihat Koleksi ‚ú®
          </button>
        </div>
      </div>

      <footer id="contact">
        <div class="container">
          <div class="row g-4">
            <div class="col-lg-5">
              <h5 class="fw-bold">Onstar Hijab</h5>
              <p>
                Hijab premium yang didesain untuk kenyamanan harianmu. Simpel,
                elegan, dan membuatmu tetap bercahaya. ‚ú®
              </p>
            </div>
            <div class="col-lg-4">
              <h6 class="fw-bold">Alamat & Contact</h6>
              <p>
                <i class="bi bi-geo-alt"></i> Jl. Kaliurang Km 14,5, Yogyakarta
              </p>
              <p><i class="bi bi-whatsapp"></i> +62 857 4386 7657</p>
            </div>
            <div class="col-lg-3">
              <h6 class="fw-bold">Social Media</h6>
              <a href="#" class="d-block text-dark text-decoration-none mb-2"
                ><i class="bi bi-instagram"></i> @onstarhijab</a
              >
              <a href="#" class="d-block text-dark text-decoration-none"
                ><i class="bi bi-tiktok"></i> @onstarhijab</a
              >
            </div>
          </div>
          <hr class="mt-5" />
          <p class="text-center text-muted small">
            ¬© <span id="year"></span> Onstar Hijab. All rights reserved.
          </p>
        </div>
      </footer>
    </section>

    <section id="koleksi" class="page-section py-5">
      <div class="container">
        <h2
          class="text-center mb-5"
          style="font-family: 'Playfair Display'; font-size: 3rem"
        >
          Our Collection
        </h2>
        <div class="row g-4" id="product-list"></div>
      </div>
    </section>

    <section id="keranjang" class="page-section py-5">
      <div class="container">
        <div class="cart-container">
          <div class="row g-5">
            <div class="col-md-6 border-end">
              <h4 class="fw-bold mb-4">üõí Pesanan Anda</h4>
              <div id="list-keranjang"></div>
              <hr />
              <div class="d-flex justify-content-between">
                <span>Total:</span>
                <strong
                  id="total-harga"
                  style="color: var(--pink-star); font-size: 2rem"
                  >Rp 0</strong
                >
              </div>
            </div>
            <div class="col-md-6">
              <h4 class="fw-bold mb-4">üìç Pengiriman</h4>
              <input
                type="text"
                id="nama"
                class="form-control mb-3"
                placeholder="Nama Lengkap"
              />
              <input
                type="tel"
                id="telp"
                class="form-control mb-3"
                placeholder="Nomor WhatsApp"
              />
              <textarea
                id="alamat"
                class="form-control mb-3"
                placeholder="Alamat Lengkap"
                rows="3"
              ></textarea>
              <select id="metode" class="form-select mb-4">
                <option value="qris">Bayar QRIS (Otomatis)</option>
                <option value="tf">Transfer Mandiri</option>
              </select>
              <button class="btn-checkout" onclick="prosesPesanan()">
                Konfirmasi & Bayar
              </button>
            </div>
          </div>
        </div>
      </div>
    </section>

    <script>
      // MASUKKAN URL GOOGLE APPS SCRIPT DI SINI
      const SHEET_URL =
        "https://script.google.com/macros/s/AKfycbzqK6CaJTzA7lCb98EGLBmNr59gyUqh4MroAk2yYzPlV8x4JDA_f36sV9QcRvcXtv9x/exec";

      const products = [
        {
          id: 1,
          name: "Pashmina Viscose",
          price: 45000,
          image: "PashminaViscose.jpg",
          stok: 10,
          description: "Pashmina lembut berbahan viscose.",
        },
        {
          id: 2,
          name: "Voal Sky",
          price: 35000,
          image: "VoalSky.jpg",
          stok: 8,
          description: "Voal premium tekstur halus.",
        },
        {
          id: 3,
          name: "Instant Khimar",
          price: 40000,
          image: "InstantKhimar.jpg",
          stok: 12,
          description: "Khimar instan adem.",
        },
        {
          id: 4,
          name: "Plisket Pastel",
          price: 45000,
          image: "PashminaPlisket.jpg",
          stok: 15,
          description: "Hijab plisket kekinian.",
        },
        {
          id: 5,
          name: "Bella Square",
          price: 35000,
          image: "BellaSquare.jpg",
          stok: 20,
          description: "Hijab segi empat favorit.",
        },
        {
          id: 6,
          name: "Ceruty Premium",
          price: 50000,
          image: "PashminaCeruty.jpg",
          stok: 7,
          description: "Ceruty jatuh elegan.",
        },
      ];

      let cart = [];
      let total = 0;

      function renderProducts() {
        document.getElementById("product-list").innerHTML = products
          .map(
            (p) => `
          <div class="col-md-4">
            <div class="card-hijab text-center">
              <div class="stok-badge">Stok: ${p.stok}</div>
              <div class="product-img-container">
                <img src="${
                  p.image
                }" onerror="this.src='https://via.placeholder.com/300x400?text=Onstar+Hijab'">
              </div>
              <h5 class="fw-bold">${p.name}</h5>
              <p class="small text-muted">${p.description}</p>
              <p class="fw-bold" style="color:var(--pink-star)">Rp ${p.price.toLocaleString()}</p>
              <button class="btn btn-outline-danger rounded-pill w-100" onclick="addToCart(${
                p.id
              })" ${p.stok === 0 ? "disabled" : ""}>
                ${p.stok === 0 ? "Stok Habis" : "Tambah ke Keranjang"}
              </button>
            </div>
          </div>
        `
          )
          .join("");
      }

      function addToCart(id) {
        const p = products.find((i) => i.id === id);
        if (p.stok > 0) {
          p.stok--;
          const item = cart.find((i) => i.id === id);
          if (item) item.jumlah++;
          else cart.push({ ...p, jumlah: 1 });
          total += p.price;
          updateUI();
        }
      }

      function updateUI() {
        document.getElementById("cart-count").innerText = cart.reduce(
          (a, b) => a + b.jumlah,
          0
        );
        document.getElementById("total-harga").innerText =
          "Rp " + total.toLocaleString();
        const list = document.getElementById("list-keranjang");
        list.innerHTML =
          cart.length === 0
            ? '<p class="text-muted">Keranjang kosong.</p>'
            : cart
                .map(
                  (i) =>
                    `<div class="d-flex justify-content-between mb-2"><span>${
                      i.name
                    } (x${i.jumlah})</span><span>Rp ${(
                      i.price * i.jumlah
                    ).toLocaleString()}</span></div>`
                )
                .join("");
        renderProducts();
      }

      function showPage(pageId) {
        document
          .querySelectorAll(".page-section")
          .forEach((s) => s.classList.remove("active-section"));
        document.getElementById(pageId).classList.add("active-section");
        window.scrollTo(0, 0);
      }

      function prosesPesanan() {
        const nama = document.getElementById("nama").value;
        const telp = document.getElementById("telp").value;
        const alamat = document.getElementById("alamat").value;
        const metode = document.getElementById("metode").value;

        if (cart.length === 0) return myAlert("Kosong!", "Pilih produk dulu.");
        if (!nama || !telp || !alamat)
          return myAlert("Data Kurang", "Lengkapi detail pengiriman.");

        kirimKeSheet(nama, telp, alamat);

        document.getElementById("totalPesan").innerText =
          "Rp " + total.toLocaleString();
        const instruksi = document.getElementById("instruksiBayar");
        if (metode === "qris") {
          instruksi.innerHTML = `<p>Scan QRIS:</p><img src="qris.jpeg" style="max-width:200px; border-radius:15px;" onerror="this.src='https://via.placeholder.com/200?text=QRIS+IMAGE'">`;
        } else {
          instruksi.innerHTML = `<div class="p-3 bg-light rounded">Transfer Mandiri:<br><b>1370025219649</b><br>a/n Onstar Hijab</div>`;
        }
        document.getElementById("modalTransfer").style.display = "flex";
      }

      function kirimKeSheet(nama, telp, alamat) {
        const params = new URLSearchParams({
          nama: nama,
          telp: telp,
          alamat: alamat,
          total: total,
          items: cart.map((i) => `${i.name} (x${i.jumlah})`).join(", "),
        });
        fetch(`${SHEET_URL}?${params.toString()}`, { method: "POST" })
          .then((res) => console.log("Success Sheet"))
          .catch((err) => console.log("Error Sheet", err));
      }

      function konfirmasiWA() {
        const msg = `Halo Onstar Hijab! ‚ú®%0A%0A*PESANAN:*%0A${cart
          .map((i) => `- ${i.name} (x${i.jumlah})`)
          .join(
            "%0A"
          )}%0A%0A*TOTAL:* Rp ${total.toLocaleString()}%0A%0A*NAMA:* ${
          document.getElementById("nama").value
        }%0A*ALAMAT:* ${document.getElementById("alamat").value}`;
        window.open(`https://wa.me/6285743867657?text=${msg}`);
      }

      function myAlert(title, msg) {
        document.getElementById("alertTitle").innerText = title;
        document.getElementById("alertMessage").innerText = msg;
        document.getElementById("modalAlert").style.display = "flex";
      }
      function tutupAlert() {
        document.getElementById("modalAlert").style.display = "none";
      }
      function tutupModal() {
        document.getElementById("modalTransfer").style.display = "none";
      }

      window.onload = () => {
        renderProducts();
        document.getElementById("year").innerText = new Date().getFullYear();
      };
    </script>
  </body>
</html>
